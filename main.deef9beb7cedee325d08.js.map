{"version":3,"sources":["webpack:///./templates/country-info.hbs","webpack:///./index.js","webpack:///./templates/countries-list.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","_","require","countriesListTemplate","console","log","countries","countryInfoTemplate","headerRef","document","querySelector","searchRef","resultRootRef","getCountries","search","fetch","then","response","ok","json","Error","length","info","languages","map","name","infoMarkup","trim","dir","textContent","insertAdjacentHTML","showCountryInfo","catch","err","error","hndlSearchInputDebounced","debounce","country","value","addEventListener"],"mappings":"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","file":"main.deef9beb7cedee325d08.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"              <li class=\\\"info__item__text\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <h2 class=\\\"country-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":27},\"end\":{\"line\":1,\"column\":35}}}) : helper)))\n    + \"</h2>\\n  <ul class=\\\"info\\\">\\n    <li class=\\\"info__item\\\">\\n      <h3 class=\\\"info__item__caption\\\">Capital: </h3>\\n      <span class=\\\"info__item__text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":37},\"end\":{\"line\":5,\"column\":48}}}) : helper)))\n    + \"</span>\\n    </li>\\n    <li class=\\\"info__item\\\">\\n      <h3 class=\\\"info__item__caption\\\">Population: </h3>\\n      <span class=\\\"info__item__text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":37},\"end\":{\"line\":9,\"column\":51}}}) : helper)))\n    + \"</span>\\n    </li>\\n    <li class=\\\"info__item\\\">\\n      <ul class=\\\"info__item__text\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":15,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </ul>\\n    </li>\\n  </ul>\\n  <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":11},\"end\":{\"line\":19,\"column\":19}}}) : helper)))\n    + \" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":25},\"end\":{\"line\":19,\"column\":33}}}) : helper)))\n    + \" flag\\\" class=\\\"country-flag\\\">\";\n},\"useData\":true});","import './styles.css';\nconst _=require('lodash');\n// load markup templates\nconst countriesListTemplate = require('./templates/countries-list.hbs');\nconsole.log(countriesListTemplate({countries:[\"ru\",\"uk\"]}));\n\nconst countryInfoTemplate = require('./templates/country-info.hbs');\nconsole.log(countryInfoTemplate({}));\n// references\n\nconst headerRef = document.querySelector(\"header.header\");\nconsole.log(headerRef);\nconst searchRef = document.querySelector(\"#search-countries\");\nconsole.log(searchRef);\nconst resultRootRef = document.querySelector(\"#searchResultRoot\");\nconsole.log(resultRootRef);\n\n// let countries = [];\n// console.log(countries);\nfunction showCountryInfo(response){\n  const info = response[0];\n  info.languages = response[0].languages.map(({name})=>name);\n  console.log(info);\n  const infoMarkup = countryInfoTemplate(info).trim();\n  console.dir(infoMarkup);\n  resultRootRef.textContent = '';\n  resultRootRef.insertAdjacentHTML('beforeend',infoMarkup);\n  return response;\n};\nfunction showCountryes(){};\n\nfunction getCountries(search){\n    return fetch(`https://restcountries.eu/rest/v2/name/${search}`)\n    .then(response => {\n      if (response.ok) return response.json();\n      throw new Error(\"Error fetching data\");\n    })\n    .then(response => {\n        console.log(response);\n        return response;\n    })\n    .then(response=>{\n      if(response.length>1) {return response;}\n      showCountryInfo(response);\n      return response;\n    })\n    // .then(showCountryInfo)\n    .catch(err => {\n        console.error(\"Error: \", err);\n    });\n}\n\nfunction hndlSearchInput(){\n    const country = searchRef.value;\n    if (country!='')  getCountries(country); // do nothing if input is empty\n};\nconst timeDebounce = 1000; // ms to wait after input puse\nconst hndlSearchInputDebounced = _.debounce(hndlSearchInput, timeDebounce);\n\nsearchRef.addEventListener('input', hndlSearchInputDebounced);\n\n\n// const btn = document.querySelector(\".js-get-data\");\n// const tBody = document.querySelector(\"table > tbody\");\n// btn.addEventListener(\"input\", handleClick);\n// Напишем функцию которая будет возвращать результат fetch (обещание) к указаному url\nfunction getCurrencyRates() {\n    return fetch(\n      \"https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11\"\n    )\n      .then(response => {\n        if (response.ok) return response.json();\n        throw new Error(\"Error fetching data\");\n      })\n      .catch(err => {\n        console.error(\"Error: \", err);\n      });\n  }\n\n\n\n// Получает массив объектов валют и рендерит результат\nfunction updateView(currencies) {\n  const htmlString = currencies.reduce(\n    (acc, currency) => acc + createTableRow(currency),\n    \"\"\n  );\n\n  tBody.innerHTML = htmlString;\n}\n\n// При клике вызовем getCurrencyRates и после того как\n// обещание выполнятся, внутри then отрендерим результат по шаблону\nfunction handleClick() {\n  getCurrencyRates().then(updateView);\n  \n}\n\nfunction createList(countries) {\n  return `\n    <ul class=\"counties\">\n      <li class=\"country\">${country.name}</li>\n      <td>${Number(buy).toFixed(2)}</td>\n      <td>${Number(sale).toFixed(2)}</td>\n    </ul>\n  `;\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li class=\\\"tcountries__item\\\">\\n      \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\n    </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"countries\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":6,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}