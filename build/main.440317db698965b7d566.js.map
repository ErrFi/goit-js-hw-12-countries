{"version":3,"sources":["webpack:///./templates/country-info.hbs","webpack:///./components/fetchCountries.js","webpack:///./index.js","webpack:///./components/markupCountriesGen.js","webpack:///./templates/countries-list.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","search","fetch","then","resp","ok","json","Promise","reject","status","catch","err","console","warn","log","_","require","alert","countriesListTemplate","notice","info","success","error","countries","countryInfoTemplate","headerRef","document","querySelector","searchRef","resultRootRef","showCountryInfo","length","infoMarkup","infoArray","undefined","languages","map","name","makeCountryInfo","trim","textContent","insertAdjacentHTML","showCountries","listMarkup","showAllert","text","type","hndlSearchInputDebounced","debounce","country","value","getCountriesAsync","res","addEventListener"],"mappings":"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","file":"main.440317db698965b7d566.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"          <li class=\\\"info__item__text\\\">\\n            \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\n          </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country-name\\\">\\n  \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":2,\"column\":10}}}) : helper)))\n    + \"\\n</h2>\\n<div class=\\\"info-content\\\">\\n  <ul class=\\\"info\\\">\\n    <li class=\\\"info__item\\\">\\n      <h3 class=\\\"info__item__caption\\\">\\n        Capital: \\n      </h3>\\n      <span class=\\\"info__item__text\\\">\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":8},\"end\":{\"line\":11,\"column\":19}}}) : helper)))\n    + \"\\n      </span>\\n    </li>\\n    <li class=\\\"info__item\\\">\\n      <h3 class=\\\"info__item__caption\\\">\\n        Population: <br>\\n      </h3>\\n      <span class=\\\"info__item__text\\\">\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":8},\"end\":{\"line\":19,\"column\":22}}}) : helper)))\n    + \"\\n      </span>\\n    </li>\\n    <li class=\\\"info__item\\\">\\n      <h3 class=\\\"info__item__caption\\\">\\n        Languages: \\n      </h3>\\n      <ul class=\\\"info__item__list\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":8},\"end\":{\"line\":31,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </ul>\\n    </li>\\n  </ul>\\n  <div class=\\\"flag-container\\\">\\n    <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":13},\"end\":{\"line\":36,\"column\":21}}}) : helper)))\n    + \" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":27},\"end\":{\"line\":36,\"column\":35}}}) : helper)))\n    + \" flag\\\" class=\\\"country-flag\\\" />\\n  </div>\\n  \\n</div>\";\n},\"useData\":true});","\nexport default async function getCountriesAsync(search){\n    try {\n       return await fetch(`https://restcountries.eu/rest/v2/name/${search}`)\n        .then(resp=>(resp.ok)\n        ?resp.json()\n        :Promise.reject('not found '+ resp.status))\n        .catch((err)=>{console.warn(err)});\n      //   console.log(\"getCountriesAsync:\\n\",result);\n\n        // return result;\n      } catch (err) {\n          console.log(\"Error catched......\");\n        throw err;\n      }\n}","import './styles.css';\nconst _ = require('lodash');\nconst { alert, notice, info, success, error } = require('@pnotify/core');\n\nimport getCountriesAsync from './components/fetchCountries.js';\nimport {makeCountryInfo, makeCountriesList} from './components/markupCountriesGen.js';\n\n// load markup templates\nconst countriesListTemplate = require('./templates/countries-list.hbs');\nconsole.log(countriesListTemplate({ countries: ['ru', 'uk'] }));\n\nconst countryInfoTemplate = require('./templates/country-info.hbs');\nconsole.log(countryInfoTemplate({}));\n// references\n\nconst headerRef = document.querySelector('header.header');\nconsole.log(headerRef);\nconst searchRef = document.querySelector('#search-countries');\nconsole.log(searchRef);\nconst resultRootRef = document.querySelector('#searchResultRoot');\nconsole.log(resultRootRef);\n\n// let countries = [];\n// console.log(countries);\nfunction showCountryInfo(info) {\n  console.log(info);\n  if(info.length!==1) return info;\n  const infoMarkup = countryInfoTemplate(makeCountryInfo(info)).trim();\n  // console.dir(infoMarkup);\n  resultRootRef.textContent = '';\n  resultRootRef.insertAdjacentHTML('beforeend', infoMarkup);\n  return info;\n}\nfunction showCountries(info) {\n  if((info.length < 2) || (info.length > 10)) return info;\n  const listMarkup = countriesListTemplate(makeCountriesList(info)).trim();\n  resultRootRef.textContent = '';\n  resultRootRef.insertAdjacentHTML('beforeend', listMarkup);\n  return info;\n}\nfunction showAllert(info){\n  if((info.length <= 10) ) return info;\n  resultRootRef.textContent = '';\n  //show allert\n  console.warn('Be more specific...');\n            const myAlert = alert({\n            text: 'Too much results! Make request more specific ...',\n            type: 'info',\n          });\n  return info;\n}\n\nfunction hndlSearchInput() {\n  const country = searchRef.value;\n  if (country != '' && country != undefined) {\n    console.log('GetCountriesAsync....\\n');\n    getCountriesAsync(country)\n      .then(res=>(res!=undefined)?res:Promise.reject('No matches found...'))\n      // .then(result =>{ console.log(result); return result})\n      .then(showCountryInfo)\n      .then(showCountries)\n      .then(showAllert)     \n      .catch(error => console.log(\"Oops!...\\n\",error));\n  } // do nothing if input is empty\n\n}\nconst timeDebounce = 1000; // ms to wait after input puse\nconst hndlSearchInputDebounced = _.debounce(hndlSearchInput, timeDebounce);\n\nsearchRef.addEventListener('input', hndlSearchInputDebounced);\n","export function makeCountryInfo(infoArray) {\n  if (infoArray == undefined || infoArray == null) return '';\n  const info = infoArray[0];\n  info.languages = infoArray[0].languages.map(({ name }) => name);\n  // const infoMarkup = countryInfoTemplate(info).trim();\n  return info;\n}\n\nexport function makeCountriesList(infoArray) {\n  if (infoArray == undefined || infoArray == null) return '';\n  const list = { countries: infoArray.map(({ name }) => name) };\n  // const listMarkup = countriesListTemplate(list).trim();\n  return list;\n}\n\n// function showCountryInfo(response) {\n//   const info = response[0];\n//   info.languages = response[0].languages.map(({ name }) => name);\n//   const infoMarkup = countryInfoTemplate(info).trim();\n//   return infoMarkup;\n// }\n\n// function showCountries(response) {\n//   const list = { countries: response.map(({ name }) => name) };\n//   const listMarkup = countriesListTemplate(list).trim();\n//   return listMarkup;\n// }\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li class=\\\"info__item__text\\\">\\n      \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\n    </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"info__item__list\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"countries\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":6,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}